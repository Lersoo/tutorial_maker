(this.webpackJsonptutorial_maker=this.webpackJsonptutorial_maker||[]).push([[0],{30:function(t,e,a){t.exports=a(59)},35:function(t,e,a){},36:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(28),i=a.n(r),c=(a(35),a(3)),l=a(1),s=(a(36),a(9)),u=a(10),p=a(12),m=a(11),h=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).renderNewStepLink=function(){return o.a.createElement(c.b,{to:"/tutorials/:id/steps/new"},"Add a step")},t}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"navbar"},o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/"},o.a.createElement(c.b,{to:"/"}," Home "),o.a.createElement(c.b,{to:"/tutorials/new"}," Create a Tutorial ")),o.a.createElement(l.a,{path:"/tutorials/:id"},o.a.createElement(c.b,{to:"/"}," Home "),o.a.createElement(c.b,{to:"/tutorials/new"}," Create a Tutorial "),o.a.createElement(c.b,{to:""},this.renderNewStepLink()))))}}]),a}(n.Component),d=a(8),f=a.n(d),v=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).onChangeTutorialTitle=function(t){n.setState({tutorial_title:t.target.value})},n.onSubmit=function(t){t.preventDefault();var e={tutorial_title:n.state.tutorial_title};f.a.post("api/tutorials/create",e).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))},n.state={tutorial_title:"",tutorial_steps:[]},n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Create a new tutorial"),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",placeholder:"Enter a name for your tutorial",onChange:this.onChangeTutorialTitle,value:this.state.tutorial_title}),o.a.createElement("input",{type:"submit"})))}}]),a}(n.Component),E=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={tutorials:[]},console.log(n.state),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fetchTutorials()}},{key:"fetchTutorials",value:function(){var t=this;f.a.get("api/tutorials/").then((function(e){console.log(e.data),t.setState({tutorials:e.data})})).catch((function(t){console.log(t)}))}},{key:"deleteTutorial",value:function(t){var e=this;console.log("Deleting"),f.a.delete("api/tutorials/".concat(t)).then((function(t){console.log(t.data),e.fetchTutorials()})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state.tutorials;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null," My Tutorials "),e?o.a.createElement("ul",null,e.map((function(e){var a=e._id,n=e.tutorial_title;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.b,{to:"/tutorials/".concat(a),key:a},o.a.createElement("li",{key:a},n)),o.a.createElement("div",{onClick:function(){return t.deleteTutorial(a)}},"[Delete this tutorial]"))}))):"Loading ...")}}]),a}(n.Component),g=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={tutorial:{},steps:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.match.params.id;this.fetchTutorial(t),this.fetchSteps(t)}},{key:"fetchTutorial",value:function(t){var e=this;f.a.get("api/tutorials/".concat(t)).then((function(t){e.setState({tutorial:t.data})})).catch((function(t){console.log(t)}))}},{key:"fetchSteps",value:function(t){var e=this;f.a.get("api/tutorials/".concat(t,"/steps")).then((function(t){e.setState({steps:t.data})})).catch((function(t){console.log(t)}))}},{key:"deleteStep",value:function(t){var e=this;f.a.delete("api/steps/".concat(t)).then((function(t){console.log(t.data),e.fetchSteps(e.props.match.params.id)})).catch((function(t){console.log(t)}))}},{key:"renderSteps",value:function(){var t=this;return this.state.steps.map((function(e){var a=e._id,n=e.step_description,r=e.step_media;return o.a.createElement("div",{className:"step",key:a},n,o.a.createElement("img",{src:r,alt:n}),o.a.createElement("p",{onClick:function(){return t.deleteStep(a)}},"Delete this step"))}))}},{key:"render",value:function(){var t=this.state.tutorial;return o.a.createElement("div",null,o.a.createElement("h1",null,t.tutorial_title),o.a.createElement("h2",null,"Steps"),o.a.createElement(c.b,{to:"/tutorials/".concat(t._id,"/steps/new")},"Add a step"),o.a.createElement("div",{className:"steps"},this.renderSteps()))}}]),a}(n.Component),b=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).onChangeStepDescription=function(t){n.setState({step_description:t.target.value})},n.onChangeStepMedia=function(t){n.setState({step_media:t.target.value})},n.onSubmit=function(t){t.preventDefault();var e=n.props.match.params.id;console.log(e);var a={step_description:n.state.step_description,step_media:n.state.step_media};f.a.post("api/tutorials/".concat(e,"/steps/create"),a).then((function(t){console.log(t),window.location.href="/tutorials/".concat(e)})).catch((function(t){return console.log(t)}))},n.state={step_description:"",step_media:""},n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Create a new tutorial"),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",placeholder:"Enter a description for this step",onChange:this.onChangeStepDescription,value:this.state.step_description}),o.a.createElement("input",{type:"text",placeholder:"Enter the URL of your media",onChange:this.onChangeStepMedia,value:this.state.step_media}),o.a.createElement("input",{type:"submit"})))}}]),a}(n.Component);var y=function(){return o.a.createElement(c.a,null,o.a.createElement(h,null),o.a.createElement("div",{className:"container"},o.a.createElement(l.a,{path:"/",exact:!0,component:E}),o.a.createElement(l.a,{path:"/tutorials/:id",exact:!0,component:g}),o.a.createElement(l.a,{path:"/tutorials/new",exact:!0,component:v}),o.a.createElement(l.a,{path:"/tutorials/:id/steps/new",component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.aeb01401.chunk.js.map