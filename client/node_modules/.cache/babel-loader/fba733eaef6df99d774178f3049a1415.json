{"ast":null,"code":"var _jsxFileName = \"/home/thomas/code/Lersoo/tutorial_maker/client/src/components/Tutorials/ShowTutorial.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // IMPORTS PERSOS\n\nimport { satin, candy, blizzardBlue } from '../../utils/colors';\nimport { Title } from '../shared/Title';\nimport { Icon } from '../../utils/icons';\nimport API from '../../utils/API';\nimport Step from '../Steps/Step';\nconst Wrapper = styled('div')`\n  text-align: center;\n`;\nconst AddButton = styled(Link)`\n  color: ${satin};\n  transition: all 0.3s ease;\n  &:hover {\n    transform: translate(0, -0.3em);\n    color: ${candy};\n  }\n`;\nexport default class ShowTutorial extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tutorial: {},\n      steps: []\n    };\n\n    this.fetchTutorial = tutorialId => {\n      API.fetchTutorial(tutorialId).then(response => {\n        this.setState({\n          tutorial: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.fetchSteps = tutorialId => {\n      API.fetchSteps(tutorialId).then(response => {\n        console.log(response.data);\n        this.setState({\n          steps: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.deleteStep = stepId => {\n      confirmAlert({\n        title: 'Confirm to delete',\n        message: `Are you sure you want to delete this step?`,\n        buttons: [{\n          label: 'Yes',\n          onClick: () => API.deleteStep(stepId).then(response => {\n            console.log(response.data);\n            this.fetchSteps(this.props.match.params.id);\n          }).catch(function (error) {\n            console.log(error);\n          })\n        }, {\n          label: 'No',\n          onClick: () => console.log('That was close!')\n        }]\n      });\n    };\n\n    this.deleteTutorial = tutorialId => {\n      confirmAlert({\n        title: 'Confirm to delete',\n        message: `Are you sure you want to delete this tutorial?`,\n        buttons: [{\n          label: 'Yes',\n          onClick: () => API.deleteTutorial(tutorialId).then(response => {\n            window.location.pathname = '/';\n          }).catch(function (error) {\n            console.log(error);\n          })\n        }, {\n          label: 'No',\n          onClick: () => console.log('That was close!')\n        }]\n      });\n    };\n\n    this.renderSteps = () => {\n      console.log(this.state.steps);\n      let n = 1;\n      return this.state.steps !== 0 ? this.state.steps.map(({\n        _id,\n        step_description,\n        step_media\n      }) => {\n        return /*#__PURE__*/React.createElement(Step, {\n          key: _id,\n          _id: _id,\n          id: n,\n          step_description: step_description,\n          step_media: step_media,\n          deleteStep: this.deleteStep,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }\n        });\n        n += 1;\n      }) : /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          'marginTop': '2em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, \"There are no steps for this tutorial  \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 49\n        }\n      }, \"( yet )\"), \".\");\n    };\n  }\n\n  componentDidMount() {\n    const tutorialId = this.props.match.params.id;\n    this.fetchTutorial(tutorialId);\n    this.fetchSteps(tutorialId);\n  }\n\n  renderAnchors() {\n    return this.state.steps.map(({\n      _id\n    }) => {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        href: `/steps/${_id}`,\n        key: _id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }, \" panorama_fish_eye \"));\n    });\n  }\n\n  render() {\n    const {\n      tutorial\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Wrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, \"Tutorial - \", tutorial.tutorial_title), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, this.renderAnchors()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, this.renderSteps()), /*#__PURE__*/React.createElement(AddButton, {\n      to: `/tutorials/${tutorial._id}/steps/new`,\n      title: \"Add a step\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }, \"add_circle\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Icon, {\n      className: \"material-icons\",\n      onClick: () => this.deleteTutorial(tutorial._id),\n      title: \"Delete this tutorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, \"highlight_off\"));\n  }\n\n}","map":{"version":3,"sources":["/home/thomas/code/Lersoo/tutorial_maker/client/src/components/Tutorials/ShowTutorial.jsx"],"names":["React","Component","Link","styled","confirmAlert","satin","candy","blizzardBlue","Title","Icon","API","Step","Wrapper","AddButton","ShowTutorial","state","tutorial","steps","fetchTutorial","tutorialId","then","response","setState","data","catch","error","console","log","fetchSteps","deleteStep","stepId","title","message","buttons","label","onClick","props","match","params","id","deleteTutorial","window","location","pathname","renderSteps","n","map","_id","step_description","step_media","componentDidMount","renderAnchors","render","tutorial_title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAO,iDAAP,C,CAEA;;AACA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,YAAvB,QAA2C,oBAA3C;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AAEA,MAAMC,OAAO,GAAGT,MAAM,CAAC,KAAD,CAAQ;;CAA9B;AAIA,MAAMU,SAAS,GAAGV,MAAM,CAACD,IAAD,CAAO;WACpBG,KAAM;;;;aAIJC,KAAM;;CALnB;AAQA,eAAe,MAAMQ,YAAN,SAA2Bb,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAElDc,KAFkD,GAE1C;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,KAAK,EAAE;AAFD,KAF0C;;AAAA,SAalDC,aAbkD,GAajCC,UAAD,IAAgB;AAC9BT,MAAAA,GAAG,CAACQ,aAAJ,CAAkBC,UAAlB,EACGC,IADH,CACQC,QAAQ,IAAI;AAChB,aAAKC,QAAL,CAAc;AAAEN,UAAAA,QAAQ,EAAEK,QAAQ,CAACE;AAArB,SAAd;AACD,OAHH,EAIGC,KAJH,CAIS,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OANH;AAOD,KArBiD;;AAAA,SAuBlDG,UAvBkD,GAuBpCT,UAAD,IAAgB;AAC3BT,MAAAA,GAAG,CAACkB,UAAJ,CAAeT,UAAf,EACGC,IADH,CACQC,QAAQ,IAAI;AAChBK,QAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACE,IAArB;AACA,aAAKD,QAAL,CAAc;AAAEL,UAAAA,KAAK,EAAEI,QAAQ,CAACE;AAAlB,SAAd;AACD,OAJH,EAKGC,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAPH;AAQD,KAhCiD;;AAAA,SAkClDI,UAlCkD,GAkCpCC,MAAD,IAAY;AACvB1B,MAAAA,YAAY,CAAC;AACX2B,QAAAA,KAAK,EAAE,mBADI;AAEXC,QAAAA,OAAO,EAAG,4CAFC;AAGXC,QAAAA,OAAO,EAAE,CACP;AACEC,UAAAA,KAAK,EAAE,KADT;AAEEC,UAAAA,OAAO,EAAE,MAAMzB,GAAG,CAACmB,UAAJ,CAAeC,MAAf,EACZV,IADY,CACPC,QAAQ,IAAI;AAChBK,YAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACE,IAArB;AACA,iBAAKK,UAAL,CAAgB,KAAKQ,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAxC;AACD,WAJY,EAKZf,KALY,CAKN,UAAUC,KAAV,EAAiB;AACtBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,WAPY;AAFjB,SADO,EAYP;AACES,UAAAA,KAAK,EAAE,IADT;AAEEC,UAAAA,OAAO,EAAE,MAAMT,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAFjB,SAZO;AAHE,OAAD,CAAZ;AAsBD,KAzDiD;;AAAA,SA2DlDa,cA3DkD,GA2DhCrB,UAAD,IAAgB;AAC/Bf,MAAAA,YAAY,CAAC;AACX2B,QAAAA,KAAK,EAAE,mBADI;AAEXC,QAAAA,OAAO,EAAG,gDAFC;AAGXC,QAAAA,OAAO,EAAE,CACP;AACEC,UAAAA,KAAK,EAAE,KADT;AAEEC,UAAAA,OAAO,EAAE,MAAMzB,GAAG,CAAC8B,cAAJ,CAAmBrB,UAAnB,EACZC,IADY,CACPC,QAAQ,IAAI;AAChBoB,YAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,GAA3B;AACD,WAHY,EAIZnB,KAJY,CAIN,UAAUC,KAAV,EAAiB;AACtBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,WANY;AAFjB,SADO,EAWP;AACES,UAAAA,KAAK,EAAE,IADT;AAEEC,UAAAA,OAAO,EAAE,MAAMT,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAFjB,SAXO;AAHE,OAAD,CAAZ;AAoBD,KAhFiD;;AAAA,SAkFlDiB,WAlFkD,GAkFpC,MAAM;AAClBlB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAL,CAAWE,KAAvB;AACA,UAAI4B,CAAC,GAAG,CAAR;AACA,aACE,KAAK9B,KAAL,CAAWE,KAAX,KAAqB,CAArB,GAEG,KAAKF,KAAL,CAAWE,KAAX,CAAiB6B,GAAjB,CAAqB,CAAC;AAAEC,QAAAA,GAAF;AAAOC,QAAAA,gBAAP;AAAyBC,QAAAA;AAAzB,OAAD,KAA2C;AAC/D,4BACE,oBAAC,IAAD;AACE,UAAA,GAAG,EAAEF,GADP;AAEE,UAAA,GAAG,EAAEA,GAFP;AAGE,UAAA,EAAE,EAAEF,CAHN;AAIE,UAAA,gBAAgB,EAAEG,gBAJpB;AAKE,UAAA,UAAU,EAAEC,UALd;AAME,UAAA,UAAU,EAAE,KAAKpB,UANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUAgB,QAAAA,CAAC,IAAI,CAAL;AACD,OAZA,CAFH,gBAeI;AAAG,QAAA,KAAK,EAAE;AAAE,uBAAa;AAAf,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEACsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADtC,MAhBN;AAoBD,KAzGiD;AAAA;;AAOlDK,EAAAA,iBAAiB,GAAG;AAClB,UAAM/B,UAAU,GAAG,KAAKiB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA3C;AACA,SAAKrB,aAAL,CAAmBC,UAAnB;AACA,SAAKS,UAAL,CAAgBT,UAAhB;AACD;;AAiGDgC,EAAAA,aAAa,GAAG;AACd,WACE,KAAKpC,KAAL,CAAWE,KAAX,CAAiB6B,GAAjB,CAAqB,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAa;AAChC,0BACE;AAAG,QAAA,IAAI,EAAG,UAASA,GAAI,EAAvB;AAA0B,QAAA,GAAG,EAAEA,GAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,CADF;AAKD,KAND,CADF;AASD;;AAEDK,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEpC,MAAAA;AAAF,QAAe,KAAKD,KAA1B;AACA,wBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAmBC,QAAQ,CAACqC,cAA5B,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKF,aAAL,EAAN,CAFF,eAGE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKP,WAAL,EADH,CAHF,eAME,oBAAC,SAAD;AACE,MAAA,EAAE,EAAG,cAAa5B,QAAQ,CAAC+B,GAAI,YADjC;AAEE,MAAA,KAAK,EAAC,YAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,CANF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,eAaE,oBAAC,IAAD;AACE,MAAA,SAAS,EAAC,gBADZ;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKP,cAAL,CAAoBxB,QAAQ,CAAC+B,GAA7B,CAFjB;AAGE,MAAA,KAAK,EAAC,sBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAbF,CADF;AAuBD;;AAjJiD","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\n// IMPORTS PERSOS\nimport { satin, candy, blizzardBlue } from '../../utils/colors';\nimport { Title } from '../shared/Title';\nimport { Icon } from '../../utils/icons';\nimport API from '../../utils/API';\nimport Step from '../Steps/Step';\n\nconst Wrapper = styled('div')`\n  text-align: center;\n`\n\nconst AddButton = styled(Link)`\n  color: ${satin};\n  transition: all 0.3s ease;\n  &:hover {\n    transform: translate(0, -0.3em);\n    color: ${candy};\n  }\n`\nexport default class ShowTutorial extends Component {\n\n  state = {\n    tutorial: {},\n    steps: []\n  }\n\n  componentDidMount() {\n    const tutorialId = this.props.match.params.id;\n    this.fetchTutorial(tutorialId);\n    this.fetchSteps(tutorialId);\n  }\n\n  fetchTutorial = (tutorialId) => {\n    API.fetchTutorial(tutorialId)\n      .then(response => {\n        this.setState({ tutorial: response.data });\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n\n  fetchSteps = (tutorialId) => {\n    API.fetchSteps(tutorialId)\n      .then(response => {\n        console.log(response.data);\n        this.setState({ steps: response.data })\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n\n  deleteStep = (stepId) => {\n    confirmAlert({\n      title: 'Confirm to delete',\n      message: `Are you sure you want to delete this step?`,\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => API.deleteStep(stepId)\n            .then(response => {\n              console.log(response.data)\n              this.fetchSteps(this.props.match.params.id);\n            })\n            .catch(function (error) {\n              console.log(error);\n            })\n        },\n        {\n          label: 'No',\n          onClick: () => console.log('That was close!')\n        }\n      ]\n    });\n\n  }\n\n  deleteTutorial = (tutorialId) => {\n    confirmAlert({\n      title: 'Confirm to delete',\n      message: `Are you sure you want to delete this tutorial?`,\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => API.deleteTutorial(tutorialId)\n            .then(response => {\n              window.location.pathname = '/';\n            })\n            .catch(function (error) {\n              console.log(error);\n            })\n        },\n        {\n          label: 'No',\n          onClick: () => console.log('That was close!')\n        }\n      ]\n    });\n  }\n\n  renderSteps = () => {\n    console.log(this.state.steps);\n    let n = 1;\n    return (\n      this.state.steps !== 0\n        ?\n        (this.state.steps.map(({ _id, step_description, step_media }) => {\n          return (\n            <Step\n              key={_id}\n              _id={_id}\n              id={n}\n              step_description={step_description}\n              step_media={step_media}\n              deleteStep={this.deleteStep}\n            />\n          )\n          n += 1;\n        }))\n        : <p style={{ 'marginTop': '2em' }}>\n          There are no steps for this tutorial  <strong>( yet )</strong>.\n        </p>\n    )\n  }\n\n\n  renderAnchors() {\n    return (\n      this.state.steps.map(({ _id }) => {\n        return (\n          <a href={`/steps/${_id}`} key={_id}>\n            <Icon className=\"material-icons\"> panorama_fish_eye </Icon>\n          </a>\n        )\n      })\n    )\n  }\n\n  render() {\n    const { tutorial } = this.state\n    return (\n      <Wrapper>\n        <Title>Tutorial - {tutorial.tutorial_title}</Title>\n        <div>{this.renderAnchors()}</div>\n        <div className=\"steps\">\n          {this.renderSteps()}\n        </div>\n        <AddButton\n          to={`/tutorials/${tutorial._id}/steps/new`}\n          title='Add a step'\n        >\n          <Icon className=\"material-icons\">add_circle</Icon>\n        </AddButton>\n        <br />\n        <Icon\n          className=\"material-icons\"\n          onClick={() => this.deleteTutorial(tutorial._id)}\n          title='Delete this tutorial'\n        >\n          highlight_off\n          </Icon>\n      </Wrapper>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}