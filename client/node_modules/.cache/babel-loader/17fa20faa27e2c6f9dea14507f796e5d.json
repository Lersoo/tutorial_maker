{"ast":null,"code":"import _classCallCheck from\"/home/thomas/code/Lersoo/tutorial_maker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/thomas/code/Lersoo/tutorial_maker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/thomas/code/Lersoo/tutorial_maker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/thomas/code/Lersoo/tutorial_maker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter as Link}from\"react-router-dom\";import Axios from'axios';var CreateStep=/*#__PURE__*/function(_Component){_inherits(CreateStep,_Component);var _super=_createSuper(CreateStep);function CreateStep(props){var _this;_classCallCheck(this,CreateStep);_this=_super.call(this,props);_this.onChangeStepDescription=function(e){_this.setState({step_description:e.target.value});};_this.onChangeStepMedia=function(e){_this.setState({step_media:e.target.value});};_this.onSubmit=function(e){e.preventDefault();var tutorialID=_this.props.match.params.id;console.log(tutorialID);var newStep={step_description:_this.state.step_description,step_media:_this.state.step_media};Axios.post(\"api/tutorials/\".concat(tutorialID,\"/steps/create\"),newStep).then(function(res){console.log(res);window.location.href=\"/tutorials/\".concat(tutorialID);}).catch(function(err){return console.log(err);});};_this.state={step_description:'',step_media:''};return _this;}_createClass(CreateStep,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Create a new tutorial\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Enter a description for this step\",onChange:this.onChangeStepDescription,value:this.state.step_description}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Enter the URL of your media\",onChange:this.onChangeStepMedia,value:this.state.step_media}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\"})));}}]);return CreateStep;}(Component);export{CreateStep as default};","map":{"version":3,"sources":["/home/thomas/code/Lersoo/tutorial_maker/client/src/components/create_step.component.jsx"],"names":["React","Component","BrowserRouter","Link","Axios","CreateStep","props","onChangeStepDescription","e","setState","step_description","target","value","onChangeStepMedia","step_media","onSubmit","preventDefault","tutorialID","match","params","id","console","log","newStep","state","post","then","res","window","location","href","catch","err"],"mappings":"ooBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAa,GAAIC,CAAAA,IAA1B,KAAsC,kBAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,U,wGACnB,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EADiB,MASnBC,uBATmB,CASO,SAACC,CAAD,CAAO,CAC/B,MAAKC,QAAL,CAAc,CAAEC,gBAAgB,CAAEF,CAAC,CAACG,MAAF,CAASC,KAA7B,CAAd,EACD,CAXkB,OAanBC,iBAbmB,CAaC,SAACL,CAAD,CAAO,CACzB,MAAKC,QAAL,CAAc,CAAEK,UAAU,CAAEN,CAAC,CAACG,MAAF,CAASC,KAAvB,CAAd,EACD,CAfkB,OAiBnBG,QAjBmB,CAiBR,SAACP,CAAD,CAAO,CAChBA,CAAC,CAACQ,cAAF,GAEA,GAAMC,CAAAA,UAAU,CAAG,MAAKX,KAAL,CAAWY,KAAX,CAAiBC,MAAjB,CAAwBC,EAA3C,CACAC,OAAO,CAACC,GAAR,CAAYL,UAAZ,EACA,GAAMM,CAAAA,OAAO,CAAG,CACdb,gBAAgB,CAAE,MAAKc,KAAL,CAAWd,gBADf,CAEdI,UAAU,CAAE,MAAKU,KAAL,CAAWV,UAFT,CAAhB,CAKAV,KAAK,CAACqB,IAAN,yBAA4BR,UAA5B,kBAAuDM,OAAvD,EACGG,IADH,CACQ,SAAAC,GAAG,CAAI,CACXN,OAAO,CAACC,GAAR,CAAYK,GAAZ,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,sBAAqCb,UAArC,EACD,CAJH,EAKGc,KALH,CAKS,SAAAC,GAAG,QAAIX,CAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ,CAAJ,EALZ,EAMD,CAjCkB,CAGjB,MAAKR,KAAL,CAAa,CACXd,gBAAgB,CAAE,EADP,CAEXI,UAAU,CAAE,EAFD,CAAb,CAHiB,aAOlB,C,8DA6BQ,CACP,mBACE,4CACE,sDADF,cAEE,4BAAM,QAAQ,CAAE,KAAKC,QAArB,eACE,6BACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,mCAFd,CAGE,QAAQ,CAAE,KAAKR,uBAHjB,CAIE,KAAK,CAAE,KAAKiB,KAAL,CAAWd,gBAJpB,EADF,cAOE,6BACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,6BAFd,CAGE,QAAQ,CAAE,KAAKG,iBAHjB,CAIE,KAAK,CAAE,KAAKW,KAAL,CAAWV,UAJpB,EAPF,cAaE,6BAAO,IAAI,CAAC,QAAZ,EAbF,CAFF,CADF,CAqBD,C,wBA3DqCb,S,SAAnBI,U","sourcesContent":["import React, { Component } from 'react'\nimport { BrowserRouter as Link } from \"react-router-dom\";\nimport Axios from 'axios';\n\nexport default class CreateStep extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      step_description: '',\n      step_media: ''\n    }\n  }\n\n  onChangeStepDescription = (e) => {\n    this.setState({ step_description: e.target.value })\n  };\n\n  onChangeStepMedia = (e) => {\n    this.setState({ step_media: e.target.value })\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const tutorialID = this.props.match.params.id;\n    console.log(tutorialID);\n    const newStep = {\n      step_description: this.state.step_description,\n      step_media: this.state.step_media,\n    };\n\n    Axios.post(`api/tutorials/${tutorialID}/steps/create`, newStep)\n      .then(res => {\n        console.log(res)\n        window.location.href = `/tutorials/${tutorialID}`\n      })\n      .catch(err => console.log(err))\n  }\n\n\n  render() {\n    return (\n      <div>\n        <h2>Create a new tutorial</h2>\n        <form onSubmit={this.onSubmit}>\n          <input\n            type='text'\n            placeholder=\"Enter a description for this step\"\n            onChange={this.onChangeStepDescription}\n            value={this.state.step_description}\n          />\n          <input\n            type='text'\n            placeholder='Enter the URL of your media'\n            onChange={this.onChangeStepMedia}\n            value={this.state.step_media}\n          />\n          <input type='submit' />\n        </form>\n      </div>\n\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}