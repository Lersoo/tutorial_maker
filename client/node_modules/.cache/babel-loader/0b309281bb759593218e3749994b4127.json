{"ast":null,"code":"import _classCallCheck from\"/home/thomas/code/Lersoo/tutorial_maker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/thomas/code/Lersoo/tutorial_maker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/thomas/code/Lersoo/tutorial_maker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/thomas/code/Lersoo/tutorial_maker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';var TutorialsList=/*#__PURE__*/function(_Component){_inherits(TutorialsList,_Component);var _super=_createSuper(TutorialsList);function TutorialsList(props){var _this;_classCallCheck(this,TutorialsList);_this=_super.call(this,props);_this.state={tutorials:[]};console.log(_this.state);return _this;}_createClass(TutorialsList,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchTutorials();}},{key:\"fetchTutorials\",value:function fetchTutorials(){var _this2=this;axios.get('api/tutorials/').then(function(response){console.log(response.data);_this2.setState({tutorials:response.data});}).catch(function(error){console.log(error);});}},{key:\"deleteTutorial\",value:function deleteTutorial(tutorialId){var _this3=this;console.log('Deleting');axios.delete(\"api/tutorials/\".concat(tutorialId)).then(function(response){console.log(response.data);_this3.fetchTutorials();}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var _this4=this;var tutorials=this.state.tutorials;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,\" My Tutorials \"),tutorials?/*#__PURE__*/React.createElement(\"ul\",null,tutorials.map(function(_ref){var _id=_ref._id,tutorial_title=_ref.tutorial_title;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"/tutorials/\".concat(_id),key:_id},/*#__PURE__*/React.createElement(\"li\",{key:_id},tutorial_title)),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return _this4.deleteTutorial(_id);}},\"[Delete this tutorial]\"));})):'Loading ...');}}]);return TutorialsList;}(Component);export default TutorialsList;","map":{"version":3,"sources":["/home/thomas/code/Lersoo/tutorial_maker/client/src/components/tutorials_list.component.jsx"],"names":["React","Component","axios","Link","TutorialsList","props","state","tutorials","console","log","fetchTutorials","get","then","response","data","setState","catch","error","tutorialId","delete","map","_id","tutorial_title","deleteTutorial"],"mappings":"ooBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,GAEMC,CAAAA,a,8GACJ,uBAAYC,KAAZ,CAAmB,+CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,SAAS,CAAE,EADA,CAAb,CAGAC,OAAO,CAACC,GAAR,CAAY,MAAKH,KAAjB,EALiB,aAMlB,C,uFAEmB,CAClB,KAAKI,cAAL,GACD,C,uDAEgB,iBACfR,KAAK,CAACS,GAAN,CAAU,gBAAV,EACGC,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBL,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACC,IAArB,EACA,MAAI,CAACC,QAAL,CAAc,CAAER,SAAS,CAAEM,QAAQ,CAACC,IAAtB,CAAd,EACD,CAJH,EAKGE,KALH,CAKS,SAAUC,KAAV,CAAiB,CACtBT,OAAO,CAACC,GAAR,CAAYQ,KAAZ,EACD,CAPH,EAQD,C,sDAEcC,U,CAAY,iBACzBV,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAP,KAAK,CAACiB,MAAN,yBAA8BD,UAA9B,GACGN,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBL,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACC,IAArB,EACA,MAAI,CAACJ,cAAL,GACD,CAJH,EAKGM,KALH,CAKS,SAAUC,KAAV,CAAiB,CACtBT,OAAO,CAACC,GAAR,CAAYQ,KAAZ,EACD,CAPH,EAQD,C,uCAEQ,oBACCV,CAAAA,SADD,CACe,KAAKD,KADpB,CACCC,SADD,CAEP,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACE,+CADF,CAGIA,SAAS,cAEP,8BACGA,SAAS,CAACa,GAAV,CAAc,cAA6B,IAA1BC,CAAAA,GAA0B,MAA1BA,GAA0B,CAArBC,cAAqB,MAArBA,cAAqB,CAC1C,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,IAAD,EAAM,EAAE,sBAAgBD,GAAhB,CAAR,CAA+B,GAAG,CAAEA,GAApC,eACE,0BAAI,GAAG,CAAEA,GAAT,EACGC,cADH,CADF,CADF,cAME,2BAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,cAAL,CAAoBF,GAApB,CAAN,EAAd,2BANF,CADF,CAUD,CAXA,CADH,CAFO,CAgBL,aAnBR,CADF,CAyBD,C,2BA/DyBpB,S,EAkE5B,cAAeG,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nclass TutorialsList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tutorials: []\n    }\n    console.log(this.state)\n  }\n\n  componentDidMount() {\n    this.fetchTutorials();\n  }\n\n  fetchTutorials() {\n    axios.get('api/tutorials/')\n      .then(response => {\n        console.log(response.data)\n        this.setState({ tutorials: response.data })\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n\n  deleteTutorial(tutorialId) {\n    console.log('Deleting')\n    axios.delete(`api/tutorials/${tutorialId}`)\n      .then(response => {\n        console.log(response.data)\n        this.fetchTutorials();\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n\n  render() {\n    const { tutorials } = this.state;\n    return (\n      <React.Fragment >\n        <h1> My Tutorials </h1>\n        {\n          tutorials ?\n\n            <ul>\n              {tutorials.map(({ _id, tutorial_title }) => {\n                return (\n                  <React.Fragment>\n                    <Link to={`/tutorials/${_id}`} key={_id}>\n                      <li key={_id}>\n                        {tutorial_title}\n                      </li>\n                    </Link>\n                    <div onClick={() => this.deleteTutorial(_id)}>[Delete this tutorial]</div>\n                  </React.Fragment>\n                )\n              })}\n            </ul>\n            : 'Loading ...'\n\n        }\n      </React.Fragment>\n    )\n  }\n}\n\nexport default TutorialsList;"]},"metadata":{},"sourceType":"module"}