{"ast":null,"code":"var _jsxFileName = \"/home/thomas/code/Lersoo/tutorial_maker/client/src/components/Tutorials/ShowTutorial.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // IMPORTS PERSOS\n\nimport { satin, candy, blizzardBlue, darkBlue, blizzardBlueTransparent } from '../../utils/colors';\nimport { Title } from '../shared/Title';\nimport { Icon } from '../../utils/icons';\nimport API from '../../utils/API';\nimport Step from '../Steps/Step';\nimport CreateStep from '../Steps/CreateStep';\nimport { FlexContainer } from '../shared/flexContainer';\nconst Wrapper = styled('div')`\n  text-align: center;\n`;\nconst AddButton = styled(Link)`\n  color: ${satin};\n  transition: all 0.3s ease;\n  &:hover {\n    transform: translate(0, -0.3em);\n    color: ${candy};\n  }\n`;\nconst TitleContainer = styled(FlexContainer)`\n  justify-content: space-between;\n`;\nconst Button = styled.button`\n  background-color: ${blizzardBlueTransparent(.1)};\n  color: ${blizzardBlue};\n  border: ${satin};\n  padding: 1em 1.5em;\n  transition: all .3s ease;\n  border-radius: .7em;\n  &:hover {\n    cursor: pointer;\n    background-color: ${blizzardBlueTransparent()};\n  }\n`;\nconst StepsContainer = styled(FlexContainer)`\n  width: 100%;\n  flex-direction: column;\n  margin-bottom: 2em;\n`;\nexport default class ShowTutorial extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tutorial: {},\n      steps: [],\n      newStep: false\n    };\n\n    this.fetchTutorial = tutorialId => {\n      API.fetchTutorial(tutorialId).then(response => {\n        this.setState({\n          tutorial: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.fetchSteps = tutorialId => {\n      API.fetchSteps(tutorialId).then(response => {\n        console.log(response.data);\n        this.setState({\n          steps: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.deleteStep = stepId => {\n      confirmAlert({\n        title: 'Confirm to delete',\n        message: `Are you sure you want to delete this step?`,\n        buttons: [{\n          label: 'Yes',\n          onClick: () => API.deleteStep(stepId).then(response => {\n            console.log(response.data);\n            this.fetchSteps(this.props.match.params.id);\n          }).catch(function (error) {\n            console.log(error);\n          })\n        }, {\n          label: 'No',\n          onClick: () => console.log('That was close!')\n        }]\n      });\n    };\n\n    this.deleteTutorial = tutorialId => {\n      confirmAlert({\n        title: 'Confirm to delete',\n        message: `Are you sure you want to delete this tutorial?`,\n        buttons: [{\n          label: 'Yes',\n          onClick: () => API.deleteTutorial(tutorialId).then(response => {\n            window.location.pathname = '/';\n          }).catch(function (error) {\n            console.log(error);\n          })\n        }, {\n          label: 'No',\n          onClick: () => console.log('That was close!')\n        }]\n      });\n    };\n\n    this.renderSteps = () => {\n      console.log(this.state.steps);\n      return this.state.steps !== 0 ? this.state.steps.map(({\n        _id,\n        step_description,\n        step_media\n      }) => {\n        return /*#__PURE__*/React.createElement(Step, {\n          key: _id,\n          _id: _id,\n          step_description: step_description,\n          step_media: step_media,\n          deleteStep: this.deleteStep,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }\n        });\n      }) : /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          'marginTop': '2em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }\n      }, \"There are no steps for this tutorial  \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 49\n        }\n      }, \"( yet )\"), \".\");\n    };\n  }\n\n  componentDidMount() {\n    const tutorialId = this.props.match.params.id;\n    this.fetchTutorial(tutorialId);\n    this.fetchSteps(tutorialId);\n  }\n\n  renderAnchors() {\n    return this.state.steps.map(({\n      _id\n    }) => {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        href: `/steps/${_id}`,\n        key: _id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }\n      }, \" panorama_fish_eye \"));\n    });\n  }\n\n  render() {\n    const {\n      tutorial\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Wrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TitleContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }, \"Tutorial - \", tutorial.tutorial_title), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.deleteTutorial(tutorial._id),\n      title: \"Delete this tutorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, \"Delete this tutorial\")), /*#__PURE__*/React.createElement(StepsContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }, this.renderSteps()), this.state.newStep === true && /*#__PURE__*/React.createElement(CreateStep, {\n      match: this.props.match,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 41\n      }\n    }), this.state.newStep === false && /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setState({\n        newStep: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, \"Add a step\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/thomas/code/Lersoo/tutorial_maker/client/src/components/Tutorials/ShowTutorial.jsx"],"names":["React","Component","Link","styled","confirmAlert","satin","candy","blizzardBlue","darkBlue","blizzardBlueTransparent","Title","Icon","API","Step","CreateStep","FlexContainer","Wrapper","AddButton","TitleContainer","Button","button","StepsContainer","ShowTutorial","state","tutorial","steps","newStep","fetchTutorial","tutorialId","then","response","setState","data","catch","error","console","log","fetchSteps","deleteStep","stepId","title","message","buttons","label","onClick","props","match","params","id","deleteTutorial","window","location","pathname","renderSteps","map","_id","step_description","step_media","componentDidMount","renderAnchors","render","tutorial_title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\n// IMPORTS PERSOS\nimport { satin, candy, blizzardBlue, darkBlue, blizzardBlueTransparent } from '../../utils/colors';\nimport { Title } from '../shared/Title';\nimport { Icon } from '../../utils/icons';\nimport API from '../../utils/API';\nimport Step from '../Steps/Step';\nimport CreateStep from '../Steps/CreateStep';\n\nimport { FlexContainer } from '../shared/flexContainer';\n\nconst Wrapper = styled('div')`\n  text-align: center;\n`\n\nconst AddButton = styled(Link)`\n  color: ${satin};\n  transition: all 0.3s ease;\n  &:hover {\n    transform: translate(0, -0.3em);\n    color: ${candy};\n  }\n`\nconst TitleContainer = styled(FlexContainer)`\n  justify-content: space-between;\n`\n\nconst Button = styled.button`\n  background-color: ${blizzardBlueTransparent(.1)};\n  color: ${blizzardBlue};\n  border: ${satin};\n  padding: 1em 1.5em;\n  transition: all .3s ease;\n  border-radius: .7em;\n  &:hover {\n    cursor: pointer;\n    background-color: ${blizzardBlueTransparent()};\n  }\n`\nconst StepsContainer = styled(FlexContainer)`\n  width: 100%;\n  flex-direction: column;\n  margin-bottom: 2em;\n`\n\nexport default class ShowTutorial extends Component {\n\n  state = {\n    tutorial: {},\n    steps: [],\n    newStep: false\n  }\n\n  componentDidMount() {\n    const tutorialId = this.props.match.params.id;\n    this.fetchTutorial(tutorialId);\n    this.fetchSteps(tutorialId);\n  }\n\n  fetchTutorial = (tutorialId) => {\n    API.fetchTutorial(tutorialId)\n      .then(response => {\n        this.setState({ tutorial: response.data });\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n\n  fetchSteps = (tutorialId) => {\n    API.fetchSteps(tutorialId)\n      .then(response => {\n        console.log(response.data);\n        this.setState({ steps: response.data })\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n\n  deleteStep = (stepId) => {\n    confirmAlert({\n      title: 'Confirm to delete',\n      message: `Are you sure you want to delete this step?`,\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => API.deleteStep(stepId)\n            .then(response => {\n              console.log(response.data)\n              this.fetchSteps(this.props.match.params.id);\n            })\n            .catch(function (error) {\n              console.log(error);\n            })\n        },\n        {\n          label: 'No',\n          onClick: () => console.log('That was close!')\n        }\n      ]\n    });\n\n  }\n\n  deleteTutorial = (tutorialId) => {\n    confirmAlert({\n      title: 'Confirm to delete',\n      message: `Are you sure you want to delete this tutorial?`,\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => API.deleteTutorial(tutorialId)\n            .then(response => {\n              window.location.pathname = '/';\n            })\n            .catch(function (error) {\n              console.log(error);\n            })\n        },\n        {\n          label: 'No',\n          onClick: () => console.log('That was close!')\n        }\n      ]\n    });\n  }\n\n  renderSteps = () => {\n    console.log(this.state.steps);\n    return (\n      this.state.steps !== 0\n        ?\n        (this.state.steps.map(({ _id, step_description, step_media }) => {\n          return (\n            <Step\n              key={_id}\n              _id={_id}\n              step_description={step_description}\n              step_media={step_media}\n              deleteStep={this.deleteStep}\n            />\n          )\n        }))\n        : <p style={{ 'marginTop': '2em' }}>\n          There are no steps for this tutorial  <strong>( yet )</strong>.\n        </p>\n    )\n  }\n\n\n  renderAnchors() {\n    return (\n      this.state.steps.map(({ _id }) => {\n        return (\n          <a href={`/steps/${_id}`} key={_id}>\n            <Icon className=\"material-icons\"> panorama_fish_eye </Icon>\n          </a>\n        )\n      })\n    )\n  }\n\n  render() {\n    const { tutorial } = this.state\n    return (\n      <Wrapper>\n        <TitleContainer>\n          <Title>Tutorial - {tutorial.tutorial_title}</Title>\n          <Button\n            onClick={() => this.deleteTutorial(tutorial._id)}\n            title='Delete this tutorial'\n          >\n            Delete this tutorial\n          </Button>\n        </TitleContainer>\n        {/* <div>{this.renderAnchors()}</div> */}\n        <StepsContainer>\n          {this.renderSteps()}\n        </StepsContainer>\n\n        {this.state.newStep === true && <CreateStep match={this.props.match} />}\n\n        {this.state.newStep === false &&\n          <Button onClick={() => this.setState({ newStep: true })}>\n            Add a step\n          </Button>\n        }\n\n        <br />\n      </Wrapper>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}